/-  collections
/+  rekey, old-zuse
/=  gas  /$  fuel:html
/=  x  /^  (map knot topicful:collections)  /_  /collections-topic-full/  
::  need a way to get the content
/=  y  /^  config:collections  /%  /&collections-config&/txt/
|%
++  authed
    %+  lien
      ~(tap in (~(get ju aut.ced.gas) %$)) 
    |=  a/knot 
    =((scot %p p.bem.gas) a)
--
^-  manx
=,  old-zuse
;div
  ;h1: {(trip desc.y)}
  ;*  ?:  authed
    ;=
      ;div.row
        ;a(href "/~~/pages/nutalk/collections/post")
          ;button.btn.btn-secondary
            Write →
          ==
        ==
      ==
    ==
  ;=
    ;div.row
      ;a(href "")
        ;button.btn.btn-primary
          Subscribe →
        ==
      ==
    ==
  ==
  ;ul
  ;*  %+  turn
        %+  sort
          ~(tap by x)
        |=  [a=(pair knot topicful:collections) b=(pair knot topicful:collections)]
        (gth (unt (slav %da p.a)) (unt (slav %da p.b)))
      |=  [t=knot con=topicful:collections]
      ;li
        ;div
          ;a(href "{(trip (scot %p mod.info.con))}/{(trip t)}"): {(trip t)}
        ==
        ;h2.mt-0: {(trip tit.info.con)}
      ==
  ==
==
